var other=function(n){function e(c){if(g[c])return g[c].exports;var t=g[c]={exports:{},id:c,loaded:!1};return n[c].call(t.exports,t,t.exports,e),t.loaded=!0,t.exports}var g={};return e.m=n,e.c=g,e.p="",e(0)}({0:function(module,exports,__webpack_require__){eval("'use strict';\n\nvar vc = __webpack_require__(65);\n\nvc({ inside: true });\n\nconsole.log('i am other.js');\n\nconsole.log('str four');\n\nconsole.log('testdfffffffg');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9vdGhlci5qcz80ODA1Il0sIm5hbWVzIjpbInZjIiwicmVxdWlyZSIsImluc2lkZSIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7O0FBRUFELEdBQUcsRUFBQ0UsUUFBTyxJQUFSLEVBQUg7O0FBRUFDLFFBQVFDLEdBQVIsQ0FBWSxlQUFaOztBQUVBRCxRQUFRQyxHQUFSLENBQVksVUFBWjs7QUFFQUQsUUFBUUMsR0FBUixDQUFZLGVBQVoiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB2YyA9IHJlcXVpcmUoJ3ZpcnR1YWwtY29uc29sZScpXG5cbnZjKHtpbnNpZGU6dHJ1ZX0pXG5cbmNvbnNvbGUubG9nKCdpIGFtIG90aGVyLmpzJylcblxuY29uc29sZS5sb2coJ3N0ciBmb3VyJylcblxuY29uc29sZS5sb2coJ3Rlc3RkZmZmZmZmZmcnKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vb3RoZXIuanMiXSwic291cmNlUm9vdCI6IiJ9")},65:function(module,exports){eval("/*\nvirtual-console\ngithub - https://github.com/SergProduction/virtual-console\n*/\n\nmodule.exports = init\n\nfunction init(param){\n\nparam = param || {}\n\nif( param.hash ){\n  if( !location.hash.includes( param.hash ) ) return\n}\n\nfunction detectMyName(){\n  var stack = new Error('');\n  return stack.stack.match(/\\w*\\.js/)[0];\n}\n\nfunction detectMyLine(){\n  var stack = new Error('');\n  var str =  stack.stack.match(/\\d+/gm)\n  if( location.port )\n    return parseInt( str[4] )\n  else\n    return parseInt( str[2] )\n}\n\nvar MYNAME = detectMyName()\nvar lineStart = detectMyLine()\n\nwindow.addEventListener('error', (error) => {\n  if( error.error )\n    console.error('fake', error.error.stack, error.filename+':'+error.lineno )\n  else if( !error.stack )\n    console.error('fake', error.message )\n  else\n    console.error('fake', error.stack )\n});\n\nfunction createVirtualConsole(){\n  var consoleWrap = document.createElement('div');\n  var header = document.createElement('div');\n  var clear = document.createElement('span');\n  var close = document.createElement('span');\n  var pre = document.createElement('pre');\n  var execute = document.createElement('textarea');\n  var run = document.createElement('div');\n\n  run.textContent = 'run';//'\\u25BA';\n  clear.textContent = 'clear';//'\\u2205';\n  close.textContent = 'close';//'\\u2716';\n\n  header.style.cssText = `\n    height: 21px;\n    width: 100%;\n    position: fixed;\n    background-color: #efefef;\n    cursor: ns-resize;\n    border: 1px solid #ddd;\n    border-left: none;\n    border-right: none;\n    z-index: 1;\n  `;\n\n  clear.style.cssText = `\n    margin-left: 5px;\n    background-color: #f0f8ff;\n    border: 1px solid #6cbaff;\n    border-radius: 5px;\n    padding: 0 5px;\n    cursor: pointer;\n  `;\n\n  close.style.cssText = `\n    float: right;\n    margin-right: 5px;\n    background-color: #f0f8ff;\n    border: 1px solid #6cbaff;\n    border-radius: 5px;\n    padding: 0 5px;\n    cursor: pointer;\n  `;\n\n  pre.style.cssText = `\n    border: none;\n    border-radius: 0;\n    font-size: 13px;\n    margin: 21px 0px;\n    padding: 0;\n  `;\n\n  execute.style.cssText = `\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    height: 21px;\n    margin: 0px;\n    border-radius: 0px;\n    border: none;\n    border-top: 1px solid #ddd;\n    font-size: 13px;\n    padding: 0 5px;\n    resize: none;\n    box-sizing: border-box;\n    line-height: normal;  \n    letter-spacing: 1px;\n    outline: none;\n  `;\n\n  run.style.cssText = `\n    position: fixed;\n    bottom: 0;\n    right: 0;\n    background-color: #f0f8ff;\n    border: 1px solid #6cbaff;\n    line-height: 0;\n    padding: ${parseInt(execute.style.height)/2-1}px 15px;\n    cursor: pointer;\n  `;\n\n  consoleWrap.style.cssText = `\n    position: fixed;\n    z-index: 100;\n    width: 100%;\n    height: 100px;\n    overflow: auto;\n    bottom: 0;\n    margin: 0;\n    padding: 0;\n    font-size: 13px;\n    font-family: monospace;\n    background-color: #fff;\n  `;\n  document.addEventListener('DOMContentLoaded', () => {\n    consoleWrap.style.marginLeft = '-' + window.getComputedStyle( document.body ).marginLeft\n  })\n\n  consoleWrap.ondragstart = () => false;\n  //header.ondragstart = () => false;\n  //pre.ondragstart = () => false;\n  \n  function drag( param ){\n    header.addEventListener( param.down, (e) => {\n      if( consoleWrap.offsetHeight == 21 ) return\n      e.stopPropagation()\n      e = e.clientY != undefined ? e : e.changedTouches[0]\n      var difference = consoleWrap.clientHeight - ( document.documentElement.clientHeight - e.clientY );\n      var direction = e.clientY;\n      \n      document.addEventListener( param.move, resizeConsole )\n      \n      function resizeConsole(e){\n        e = e.clientY != undefined ? e : e.changedTouches[0]\n        if( execute.offsetHeight + header.offsetHeight >= consoleWrap.offsetHeight && direction < e.clientY ){\n          consoleWrap.style.height = execute.offsetHeight + header.offsetHeight + 'px';\n          document.removeEventListener(  param.move, resizeConsole )\n          return\n        }\n        consoleWrap.style.height = document.documentElement.clientHeight - e.clientY + difference + 'px'\n      }\n      \n      function deleteDrag(){\n        document.removeEventListener( param.move, resizeConsole )\n        header.removeEventListener( param.up, deleteDrag )\n      }\n\n      header.addEventListener( param.up, deleteDrag )\n    })\n  }\n\n  drag({down:'mousedown', move:'mousemove', up:'mouseup'})\n  drag({down:'touchstart', move:'touchmove', up:'touchend'})\n\n  function runSize(){\n    run.style.paddingTop = Math.floor( parseInt(execute.style.height)/2-1 ) + 'px';\n    run.style.paddingBottom = Math.floor( parseInt(execute.style.height)/2 ) + 'px';\n  }\n\n  execute.addEventListener('input', (e)=>{\n    var line = e.target.value.match(/\\n/gm)\n    if( line != null )\n      e.target.style.height = 21 + line.length * 15 + 'px';\n    else\n      e.target.style.height = 21 + 'px';\n\n    if( e.target.offsetHeight > consoleWrap.offsetHeight - header.offsetHeight )\n      consoleWrap.style.height = e.target.offsetHeight + header.offsetHeight + 'px';\n    runSize()\n  })\n\n  run.addEventListener('click', (e) => {\n    try {\n      var result = window.eval( execute.value )\n    }catch (e) {\n      var stack = e.stack.match(/.*\\n/)[0];\n      console.error('fake', stack)\n    }\n    console.log( result )\n  })\n\n  clear.addEventListener('click', (e) => {\n    e.preventDefault();\n    pre.innerHTML = '';\n  })\n\n  close.addEventListener('click', (e) => {\n    e.preventDefault();\n    var toggle = consoleWrap.offsetHeight == 21 ? false : true;\n    if( toggle ){\n      close.textContent = 'open';\n      consoleWrap.style.height = '21px';\n      execute.style.height = '21px';\n      runSize()\n    }\n    else {\n      close.textContent = 'close';\n      var line = execute.value.match(/\\n/gm)\n      if( line )\n        execute.style.height = 21 + line.length * 15 + 'px';\n      runSize()\n      var height = execute.offsetHeight + header.offsetHeight;\n      consoleWrap.style.height = execute.offsetHeight <= 100 ? '100px' : height + 'px';\n    }\n  })\n\n  header.appendChild( clear )\n  header.appendChild( close )\n  consoleWrap.appendChild( header )\n  consoleWrap.appendChild( pre )\n  consoleWrap.appendChild( execute )\n  consoleWrap.appendChild( run )\n\n  return consoleWrap\n}\n\nvar virtualConsole = createVirtualConsole()\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.body.appendChild( virtualConsole )\n})\n\nfunction isType(){\n  var args = Array.prototype.slice.call(arguments);\n  \n  return args.map( el => {\n    return type( el )\n  })\n\n  function type( obj ){\n    if( obj === undefined ) return 'undefined'\n    var type = Object.prototype.toString.call( obj ).slice(8,-1)\n    switch(type){\n      case 'Object':\n        return JSON.stringify(obj, null,'  ')\n      break\n      case 'Array':\n        return JSON.stringify(obj)\n      break\n      case 'String':\n        return String( obj )\n      break\n      case 'Number':\n        return parseInt( obj )\n      break\n      case 'Function':\n        return eval( obj )\n      break\n      case 'Boolean':\n        return String( obj )\n      break\n      case 'RegExp':\n        return String( obj )\n      break\n      default:\n        if( obj instanceof HTMLElement )\n          return obj.outerHTML\n        else\n          return JSON.stringify(obj)\n    }\n  }\n}\n\nfunction view( p ){\n  var pre = virtualConsole.getElementsByTagName('pre')[0]\n  pre.appendChild( p )\n  pre.scrollTop = pre.scrollHeight - 100\n}\n\nvar origin = {\n  log: console.log,\n  warn: console.warn,\n  info: console.info,\n  error: console.error,\n  dir: console.dir\n}\n\nfunction sourse( str ){\n  var sourse = str.stack.match(/\\w*\\.js[:\\d]*/g)[1];\n  var stack;\n  if( param.inside ){\n    let line = sourse ? parseInt( sourse.match(/\\d+/)[0] ) : 'anonymous';\n    let stackName = sourse ? sourse.match(/\\w+\\.js/)[0] : 'anonymous';\n    stack = sourse ? stackName == MYNAME && line > lineStart && line < lineEnd ? 'virtual console' : sourse : 'anonymous';\n  }\n  else{\n    stack = sourse ? sourse.includes( MYNAME ) ? 'virtual console' : sourse : 'anonymous'\n  }\n  return stack\n}\n\nvar log = function(){\n  var arg = Array.prototype.slice.call(arguments)\n  \n  origin.log( ...arg );\n  \n  var stack = new Error('');\n  stack = sourse( stack )\n  \n  var mobLog = isType( ...arg )\n  \n  var p = document.createElement('p');\n  p.textContent = mobLog.join(' ');\n  p.style.cssText = `\n    margin: 0;\n    padding: 0 5px;\n    border-bottom: 1px solid #eee;\n    background-color: #fff;\n    color: #000;\n    `;\n  \n  var span = document.createElement('span');\n  span.textContent = stack;\n  span.style.cssText = 'float:right; color:#555';\n  p.insertBefore(span, p.firstChild)\n  \n  view( p )\n}\n\n\nvar warn = function(){\n  var arg = Array.prototype.slice.call(arguments)\n  \n  origin.warn( ...arg );\n  \n  var stack = new Error('');\n  stack = sourse( stack )\n  \n  var mobLog = isType( ...arg )\n  \n  var p = document.createElement('p');\n  p.textContent = mobLog.join(' ');\n  p.style.cssText = `\n    margin: 0;\n    padding: 0 5px;\n    border-bottom: 1px solid #eeeeb0;\n    background-color: #ffd;\n    color: #000;\n    `;\n  \n  var span = document.createElement('span');\n  span.textContent = stack;\n  span.style.cssText = 'float:right; color:#555';\n  p.insertBefore(span, p.firstChild)\n  \n  view( p )\n}\n\nvar info = function(){\n  var arg = Array.prototype.slice.call(arguments)\n  \n  origin.info( ...arg );\n  \n  var stack = new Error('');\n  stack = sourse( stack )\n  \n  var mobLog = isType( ...arg )\n  \n  var p = document.createElement('p');\n  p.textContent = mobLog.join(' ');\n  p.style.cssText = `\n    margin: 0;\n    padding: 0 5px;\n    border-bottom: 1px solid #eeeeb0;\n    background-color: #def;\n    color: #000;\n    `;\n  \n  var span = document.createElement('span');\n  span.textContent = stack;\n  span.style.cssText = 'float:right; color:#555';\n  p.insertBefore(span, p.firstChild)\n  \n  view( p )\n}\n\nvar error = function( type, ...args ){\n  var arg = Array.prototype.slice.call(arguments)\n  \n  var stack = new Error('');\n  stack = sourse( stack )\n\n  var mobLog = isType( ...arg )\n  \n  if( type == 'fake'){\n    let name;\n    arg = args;\n    \n    if( args[1] ){\n      name = args[1].match(/\\w*\\.js[:\\d]*/m);\n    }\n    else{\n      name = args[0].match(/\\w*\\.js[:\\d]*/m);\n    }\n    if( param.inside ){\n      let line = name ? name[0].match(/\\d+/)[0] : 'anonymous';\n      let stackName = name ? name[0].match(/\\w+\\.js/)[0] : 'anonymous';\n      stack = name ? stackName == MYNAME && line > lineStart && line < lineEnd ? 'virtual console' : name : 'virtual console';\n    }\n    else{\n      stack = name ? name[0].includes( MYNAME ) ? 'virtual console' : name : 'virtual console';\n    }\n\n    mobLog = isType( args[0] )\n  }\n  else{\n    origin.error( ...arg );\n  }\n\n  var p = document.createElement('p');\n  p.textContent = mobLog.join(' ');\n  p.style.cssText = `\n    margin: 0;\n    padding: 0 5px;\n    border-bottom: 1px solid #fdd;\n    background-color: #fee;\n    color: #f00;\n    `;\n\n  var span = document.createElement('span');\n  span.textContent = stack;\n  span.style.cssText = 'float:right; color:#555';\n  p.insertBefore(span, p.firstChild)\n  \n  view( p )\n}\n\nconsole = Object.assign({}, console, {warn, error, log, info})\n\nvar lineEnd = detectMyLine()\n\n}\n\n//init({hash: 'console=true', inside: true})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vfi92aXJ0dWFsLWNvbnNvbGUvbG9nTW9iaWxlLmpzP2M0NzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUIsOEJBQThCO0FBQzlCLDhCQUE4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQ0FBbUM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsUUFBUSxpREFBaUQ7QUFDekQsUUFBUSxtREFBbUQ7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQztBQUNwQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQztBQUNwQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7O0FBRUEsMEJBQTBCLFlBQVksdUJBQXVCOztBQUU3RDs7QUFFQTs7QUFFQSxRQUFRLG1DQUFtQyIsImZpbGUiOiI2NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG52aXJ0dWFsLWNvbnNvbGVcbmdpdGh1YiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9TZXJnUHJvZHVjdGlvbi92aXJ0dWFsLWNvbnNvbGVcbiovXG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdFxuXG5mdW5jdGlvbiBpbml0KHBhcmFtKXtcblxucGFyYW0gPSBwYXJhbSB8fCB7fVxuXG5pZiggcGFyYW0uaGFzaCApe1xuICBpZiggIWxvY2F0aW9uLmhhc2guaW5jbHVkZXMoIHBhcmFtLmhhc2ggKSApIHJldHVyblxufVxuXG5mdW5jdGlvbiBkZXRlY3RNeU5hbWUoKXtcbiAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCcnKTtcbiAgcmV0dXJuIHN0YWNrLnN0YWNrLm1hdGNoKC9cXHcqXFwuanMvKVswXTtcbn1cblxuZnVuY3Rpb24gZGV0ZWN0TXlMaW5lKCl7XG4gIHZhciBzdGFjayA9IG5ldyBFcnJvcignJyk7XG4gIHZhciBzdHIgPSAgc3RhY2suc3RhY2subWF0Y2goL1xcZCsvZ20pXG4gIGlmKCBsb2NhdGlvbi5wb3J0IClcbiAgICByZXR1cm4gcGFyc2VJbnQoIHN0cls0XSApXG4gIGVsc2VcbiAgICByZXR1cm4gcGFyc2VJbnQoIHN0clsyXSApXG59XG5cbnZhciBNWU5BTUUgPSBkZXRlY3RNeU5hbWUoKVxudmFyIGxpbmVTdGFydCA9IGRldGVjdE15TGluZSgpXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICBpZiggZXJyb3IuZXJyb3IgKVxuICAgIGNvbnNvbGUuZXJyb3IoJ2Zha2UnLCBlcnJvci5lcnJvci5zdGFjaywgZXJyb3IuZmlsZW5hbWUrJzonK2Vycm9yLmxpbmVubyApXG4gIGVsc2UgaWYoICFlcnJvci5zdGFjayApXG4gICAgY29uc29sZS5lcnJvcignZmFrZScsIGVycm9yLm1lc3NhZ2UgKVxuICBlbHNlXG4gICAgY29uc29sZS5lcnJvcignZmFrZScsIGVycm9yLnN0YWNrIClcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVWaXJ0dWFsQ29uc29sZSgpe1xuICB2YXIgY29uc29sZVdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgY2xlYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHZhciBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgdmFyIHByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpO1xuICB2YXIgZXhlY3V0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIHZhciBydW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBydW4udGV4dENvbnRlbnQgPSAncnVuJzsvLydcXHUyNUJBJztcbiAgY2xlYXIudGV4dENvbnRlbnQgPSAnY2xlYXInOy8vJ1xcdTIyMDUnO1xuICBjbG9zZS50ZXh0Q29udGVudCA9ICdjbG9zZSc7Ly8nXFx1MjcxNic7XG5cbiAgaGVhZGVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgaGVpZ2h0OiAyMXB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmO1xuICAgIGN1cnNvcjogbnMtcmVzaXplO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgIHotaW5kZXg6IDE7XG4gIGA7XG5cbiAgY2xlYXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGY4ZmY7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzZjYmFmZjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgcGFkZGluZzogMCA1cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICBgO1xuXG4gIGNsb3NlLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGY4ZmY7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzZjYmFmZjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgcGFkZGluZzogMCA1cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICBgO1xuXG4gIHByZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBtYXJnaW46IDIxcHggMHB4O1xuICAgIHBhZGRpbmc6IDA7XG4gIGA7XG5cbiAgZXhlY3V0ZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBib3R0b206IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyMXB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZGQ7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIHBhZGRpbmc6IDAgNXB4O1xuICAgIHJlc2l6ZTogbm9uZTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7ICBcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIGA7XG5cbiAgcnVuLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIGJvdHRvbTogMDtcbiAgICByaWdodDogMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmOGZmO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM2Y2JhZmY7XG4gICAgbGluZS1oZWlnaHQ6IDA7XG4gICAgcGFkZGluZzogJHtwYXJzZUludChleGVjdXRlLnN0eWxlLmhlaWdodCkvMi0xfXB4IDE1cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICBgO1xuXG4gIGNvbnNvbGVXcmFwLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHotaW5kZXg6IDEwMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIGJvdHRvbTogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBgO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIGNvbnNvbGVXcmFwLnN0eWxlLm1hcmdpbkxlZnQgPSAnLScgKyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZG9jdW1lbnQuYm9keSApLm1hcmdpbkxlZnRcbiAgfSlcblxuICBjb25zb2xlV3JhcC5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xuICAvL2hlYWRlci5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xuICAvL3ByZS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xuICBcbiAgZnVuY3Rpb24gZHJhZyggcGFyYW0gKXtcbiAgICBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lciggcGFyYW0uZG93biwgKGUpID0+IHtcbiAgICAgIGlmKCBjb25zb2xlV3JhcC5vZmZzZXRIZWlnaHQgPT0gMjEgKSByZXR1cm5cbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIGUgPSBlLmNsaWVudFkgIT0gdW5kZWZpbmVkID8gZSA6IGUuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgIHZhciBkaWZmZXJlbmNlID0gY29uc29sZVdyYXAuY2xpZW50SGVpZ2h0IC0gKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZS5jbGllbnRZICk7XG4gICAgICB2YXIgZGlyZWN0aW9uID0gZS5jbGllbnRZO1xuICAgICAgXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBwYXJhbS5tb3ZlLCByZXNpemVDb25zb2xlIClcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gcmVzaXplQ29uc29sZShlKXtcbiAgICAgICAgZSA9IGUuY2xpZW50WSAhPSB1bmRlZmluZWQgPyBlIDogZS5jaGFuZ2VkVG91Y2hlc1swXVxuICAgICAgICBpZiggZXhlY3V0ZS5vZmZzZXRIZWlnaHQgKyBoZWFkZXIub2Zmc2V0SGVpZ2h0ID49IGNvbnNvbGVXcmFwLm9mZnNldEhlaWdodCAmJiBkaXJlY3Rpb24gPCBlLmNsaWVudFkgKXtcbiAgICAgICAgICBjb25zb2xlV3JhcC5zdHlsZS5oZWlnaHQgPSBleGVjdXRlLm9mZnNldEhlaWdodCArIGhlYWRlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICBwYXJhbS5tb3ZlLCByZXNpemVDb25zb2xlIClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlV3JhcC5zdHlsZS5oZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZS5jbGllbnRZICsgZGlmZmVyZW5jZSArICdweCdcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZGVsZXRlRHJhZygpe1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBwYXJhbS5tb3ZlLCByZXNpemVDb25zb2xlIClcbiAgICAgICAgaGVhZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHBhcmFtLnVwLCBkZWxldGVEcmFnIClcbiAgICAgIH1cblxuICAgICAgaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoIHBhcmFtLnVwLCBkZWxldGVEcmFnIClcbiAgICB9KVxuICB9XG5cbiAgZHJhZyh7ZG93bjonbW91c2Vkb3duJywgbW92ZTonbW91c2Vtb3ZlJywgdXA6J21vdXNldXAnfSlcbiAgZHJhZyh7ZG93bjondG91Y2hzdGFydCcsIG1vdmU6J3RvdWNobW92ZScsIHVwOid0b3VjaGVuZCd9KVxuXG4gIGZ1bmN0aW9uIHJ1blNpemUoKXtcbiAgICBydW4uc3R5bGUucGFkZGluZ1RvcCA9IE1hdGguZmxvb3IoIHBhcnNlSW50KGV4ZWN1dGUuc3R5bGUuaGVpZ2h0KS8yLTEgKSArICdweCc7XG4gICAgcnVuLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBNYXRoLmZsb29yKCBwYXJzZUludChleGVjdXRlLnN0eWxlLmhlaWdodCkvMiApICsgJ3B4JztcbiAgfVxuXG4gIGV4ZWN1dGUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSk9PntcbiAgICB2YXIgbGluZSA9IGUudGFyZ2V0LnZhbHVlLm1hdGNoKC9cXG4vZ20pXG4gICAgaWYoIGxpbmUgIT0gbnVsbCApXG4gICAgICBlLnRhcmdldC5zdHlsZS5oZWlnaHQgPSAyMSArIGxpbmUubGVuZ3RoICogMTUgKyAncHgnO1xuICAgIGVsc2VcbiAgICAgIGUudGFyZ2V0LnN0eWxlLmhlaWdodCA9IDIxICsgJ3B4JztcblxuICAgIGlmKCBlLnRhcmdldC5vZmZzZXRIZWlnaHQgPiBjb25zb2xlV3JhcC5vZmZzZXRIZWlnaHQgLSBoZWFkZXIub2Zmc2V0SGVpZ2h0IClcbiAgICAgIGNvbnNvbGVXcmFwLnN0eWxlLmhlaWdodCA9IGUudGFyZ2V0Lm9mZnNldEhlaWdodCArIGhlYWRlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgIHJ1blNpemUoKVxuICB9KVxuXG4gIHJ1bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciByZXN1bHQgPSB3aW5kb3cuZXZhbCggZXhlY3V0ZS52YWx1ZSApXG4gICAgfWNhdGNoIChlKSB7XG4gICAgICB2YXIgc3RhY2sgPSBlLnN0YWNrLm1hdGNoKC8uKlxcbi8pWzBdO1xuICAgICAgY29uc29sZS5lcnJvcignZmFrZScsIHN0YWNrKVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyggcmVzdWx0IClcbiAgfSlcblxuICBjbGVhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHByZS5pbm5lckhUTUwgPSAnJztcbiAgfSlcblxuICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciB0b2dnbGUgPSBjb25zb2xlV3JhcC5vZmZzZXRIZWlnaHQgPT0gMjEgPyBmYWxzZSA6IHRydWU7XG4gICAgaWYoIHRvZ2dsZSApe1xuICAgICAgY2xvc2UudGV4dENvbnRlbnQgPSAnb3Blbic7XG4gICAgICBjb25zb2xlV3JhcC5zdHlsZS5oZWlnaHQgPSAnMjFweCc7XG4gICAgICBleGVjdXRlLnN0eWxlLmhlaWdodCA9ICcyMXB4JztcbiAgICAgIHJ1blNpemUoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNsb3NlLnRleHRDb250ZW50ID0gJ2Nsb3NlJztcbiAgICAgIHZhciBsaW5lID0gZXhlY3V0ZS52YWx1ZS5tYXRjaCgvXFxuL2dtKVxuICAgICAgaWYoIGxpbmUgKVxuICAgICAgICBleGVjdXRlLnN0eWxlLmhlaWdodCA9IDIxICsgbGluZS5sZW5ndGggKiAxNSArICdweCc7XG4gICAgICBydW5TaXplKClcbiAgICAgIHZhciBoZWlnaHQgPSBleGVjdXRlLm9mZnNldEhlaWdodCArIGhlYWRlci5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zb2xlV3JhcC5zdHlsZS5oZWlnaHQgPSBleGVjdXRlLm9mZnNldEhlaWdodCA8PSAxMDAgPyAnMTAwcHgnIDogaGVpZ2h0ICsgJ3B4JztcbiAgICB9XG4gIH0pXG5cbiAgaGVhZGVyLmFwcGVuZENoaWxkKCBjbGVhciApXG4gIGhlYWRlci5hcHBlbmRDaGlsZCggY2xvc2UgKVxuICBjb25zb2xlV3JhcC5hcHBlbmRDaGlsZCggaGVhZGVyIClcbiAgY29uc29sZVdyYXAuYXBwZW5kQ2hpbGQoIHByZSApXG4gIGNvbnNvbGVXcmFwLmFwcGVuZENoaWxkKCBleGVjdXRlIClcbiAgY29uc29sZVdyYXAuYXBwZW5kQ2hpbGQoIHJ1biApXG5cbiAgcmV0dXJuIGNvbnNvbGVXcmFwXG59XG5cbnZhciB2aXJ0dWFsQ29uc29sZSA9IGNyZWF0ZVZpcnR1YWxDb25zb2xlKClcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggdmlydHVhbENvbnNvbGUgKVxufSlcblxuZnVuY3Rpb24gaXNUeXBlKCl7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgXG4gIHJldHVybiBhcmdzLm1hcCggZWwgPT4ge1xuICAgIHJldHVybiB0eXBlKCBlbCApXG4gIH0pXG5cbiAgZnVuY3Rpb24gdHlwZSggb2JqICl7XG4gICAgaWYoIG9iaiA9PT0gdW5kZWZpbmVkICkgcmV0dXJuICd1bmRlZmluZWQnXG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIG9iaiApLnNsaWNlKDgsLTEpXG4gICAgc3dpdGNoKHR5cGUpe1xuICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwnICAnKVxuICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iailcbiAgICAgIGJyZWFrXG4gICAgICBjYXNlICdTdHJpbmcnOlxuICAgICAgICByZXR1cm4gU3RyaW5nKCBvYmogKVxuICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ051bWJlcic6XG4gICAgICAgIHJldHVybiBwYXJzZUludCggb2JqIClcbiAgICAgIGJyZWFrXG4gICAgICBjYXNlICdGdW5jdGlvbic6XG4gICAgICAgIHJldHVybiBldmFsKCBvYmogKVxuICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gU3RyaW5nKCBvYmogKVxuICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1JlZ0V4cCc6XG4gICAgICAgIHJldHVybiBTdHJpbmcoIG9iaiApXG4gICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYoIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IClcbiAgICAgICAgICByZXR1cm4gb2JqLm91dGVySFRNTFxuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iailcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlldyggcCApe1xuICB2YXIgcHJlID0gdmlydHVhbENvbnNvbGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ByZScpWzBdXG4gIHByZS5hcHBlbmRDaGlsZCggcCApXG4gIHByZS5zY3JvbGxUb3AgPSBwcmUuc2Nyb2xsSGVpZ2h0IC0gMTAwXG59XG5cbnZhciBvcmlnaW4gPSB7XG4gIGxvZzogY29uc29sZS5sb2csXG4gIHdhcm46IGNvbnNvbGUud2FybixcbiAgaW5mbzogY29uc29sZS5pbmZvLFxuICBlcnJvcjogY29uc29sZS5lcnJvcixcbiAgZGlyOiBjb25zb2xlLmRpclxufVxuXG5mdW5jdGlvbiBzb3Vyc2UoIHN0ciApe1xuICB2YXIgc291cnNlID0gc3RyLnN0YWNrLm1hdGNoKC9cXHcqXFwuanNbOlxcZF0qL2cpWzFdO1xuICB2YXIgc3RhY2s7XG4gIGlmKCBwYXJhbS5pbnNpZGUgKXtcbiAgICBsZXQgbGluZSA9IHNvdXJzZSA/IHBhcnNlSW50KCBzb3Vyc2UubWF0Y2goL1xcZCsvKVswXSApIDogJ2Fub255bW91cyc7XG4gICAgbGV0IHN0YWNrTmFtZSA9IHNvdXJzZSA/IHNvdXJzZS5tYXRjaCgvXFx3K1xcLmpzLylbMF0gOiAnYW5vbnltb3VzJztcbiAgICBzdGFjayA9IHNvdXJzZSA/IHN0YWNrTmFtZSA9PSBNWU5BTUUgJiYgbGluZSA+IGxpbmVTdGFydCAmJiBsaW5lIDwgbGluZUVuZCA/ICd2aXJ0dWFsIGNvbnNvbGUnIDogc291cnNlIDogJ2Fub255bW91cyc7XG4gIH1cbiAgZWxzZXtcbiAgICBzdGFjayA9IHNvdXJzZSA/IHNvdXJzZS5pbmNsdWRlcyggTVlOQU1FICkgPyAndmlydHVhbCBjb25zb2xlJyA6IHNvdXJzZSA6ICdhbm9ueW1vdXMnXG4gIH1cbiAgcmV0dXJuIHN0YWNrXG59XG5cbnZhciBsb2cgPSBmdW5jdGlvbigpe1xuICB2YXIgYXJnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICBcbiAgb3JpZ2luLmxvZyggLi4uYXJnICk7XG4gIFxuICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoJycpO1xuICBzdGFjayA9IHNvdXJzZSggc3RhY2sgKVxuICBcbiAgdmFyIG1vYkxvZyA9IGlzVHlwZSggLi4uYXJnIClcbiAgXG4gIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBwLnRleHRDb250ZW50ID0gbW9iTG9nLmpvaW4oJyAnKTtcbiAgcC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwIDVweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjMDAwO1xuICAgIGA7XG4gIFxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbi50ZXh0Q29udGVudCA9IHN0YWNrO1xuICBzcGFuLnN0eWxlLmNzc1RleHQgPSAnZmxvYXQ6cmlnaHQ7IGNvbG9yOiM1NTUnO1xuICBwLmluc2VydEJlZm9yZShzcGFuLCBwLmZpcnN0Q2hpbGQpXG4gIFxuICB2aWV3KCBwIClcbn1cblxuXG52YXIgd2FybiA9IGZ1bmN0aW9uKCl7XG4gIHZhciBhcmcgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gIFxuICBvcmlnaW4ud2FybiggLi4uYXJnICk7XG4gIFxuICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoJycpO1xuICBzdGFjayA9IHNvdXJzZSggc3RhY2sgKVxuICBcbiAgdmFyIG1vYkxvZyA9IGlzVHlwZSggLi4uYXJnIClcbiAgXG4gIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBwLnRleHRDb250ZW50ID0gbW9iTG9nLmpvaW4oJyAnKTtcbiAgcC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwIDVweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZWViMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZkO1xuICAgIGNvbG9yOiAjMDAwO1xuICAgIGA7XG4gIFxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbi50ZXh0Q29udGVudCA9IHN0YWNrO1xuICBzcGFuLnN0eWxlLmNzc1RleHQgPSAnZmxvYXQ6cmlnaHQ7IGNvbG9yOiM1NTUnO1xuICBwLmluc2VydEJlZm9yZShzcGFuLCBwLmZpcnN0Q2hpbGQpXG4gIFxuICB2aWV3KCBwIClcbn1cblxudmFyIGluZm8gPSBmdW5jdGlvbigpe1xuICB2YXIgYXJnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICBcbiAgb3JpZ2luLmluZm8oIC4uLmFyZyApO1xuICBcbiAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCcnKTtcbiAgc3RhY2sgPSBzb3Vyc2UoIHN0YWNrIClcbiAgXG4gIHZhciBtb2JMb2cgPSBpc1R5cGUoIC4uLmFyZyApXG4gIFxuICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgcC50ZXh0Q29udGVudCA9IG1vYkxvZy5qb2luKCcgJyk7XG4gIHAuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMCA1cHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWVlYjA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RlZjtcbiAgICBjb2xvcjogIzAwMDtcbiAgICBgO1xuICBcbiAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHNwYW4udGV4dENvbnRlbnQgPSBzdGFjaztcbiAgc3Bhbi5zdHlsZS5jc3NUZXh0ID0gJ2Zsb2F0OnJpZ2h0OyBjb2xvcjojNTU1JztcbiAgcC5pbnNlcnRCZWZvcmUoc3BhbiwgcC5maXJzdENoaWxkKVxuICBcbiAgdmlldyggcCApXG59XG5cbnZhciBlcnJvciA9IGZ1bmN0aW9uKCB0eXBlLCAuLi5hcmdzICl7XG4gIHZhciBhcmcgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gIFxuICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoJycpO1xuICBzdGFjayA9IHNvdXJzZSggc3RhY2sgKVxuXG4gIHZhciBtb2JMb2cgPSBpc1R5cGUoIC4uLmFyZyApXG4gIFxuICBpZiggdHlwZSA9PSAnZmFrZScpe1xuICAgIGxldCBuYW1lO1xuICAgIGFyZyA9IGFyZ3M7XG4gICAgXG4gICAgaWYoIGFyZ3NbMV0gKXtcbiAgICAgIG5hbWUgPSBhcmdzWzFdLm1hdGNoKC9cXHcqXFwuanNbOlxcZF0qL20pO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgbmFtZSA9IGFyZ3NbMF0ubWF0Y2goL1xcdypcXC5qc1s6XFxkXSovbSk7XG4gICAgfVxuICAgIGlmKCBwYXJhbS5pbnNpZGUgKXtcbiAgICAgIGxldCBsaW5lID0gbmFtZSA/IG5hbWVbMF0ubWF0Y2goL1xcZCsvKVswXSA6ICdhbm9ueW1vdXMnO1xuICAgICAgbGV0IHN0YWNrTmFtZSA9IG5hbWUgPyBuYW1lWzBdLm1hdGNoKC9cXHcrXFwuanMvKVswXSA6ICdhbm9ueW1vdXMnO1xuICAgICAgc3RhY2sgPSBuYW1lID8gc3RhY2tOYW1lID09IE1ZTkFNRSAmJiBsaW5lID4gbGluZVN0YXJ0ICYmIGxpbmUgPCBsaW5lRW5kID8gJ3ZpcnR1YWwgY29uc29sZScgOiBuYW1lIDogJ3ZpcnR1YWwgY29uc29sZSc7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBzdGFjayA9IG5hbWUgPyBuYW1lWzBdLmluY2x1ZGVzKCBNWU5BTUUgKSA/ICd2aXJ0dWFsIGNvbnNvbGUnIDogbmFtZSA6ICd2aXJ0dWFsIGNvbnNvbGUnO1xuICAgIH1cblxuICAgIG1vYkxvZyA9IGlzVHlwZSggYXJnc1swXSApXG4gIH1cbiAgZWxzZXtcbiAgICBvcmlnaW4uZXJyb3IoIC4uLmFyZyApO1xuICB9XG5cbiAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHAudGV4dENvbnRlbnQgPSBtb2JMb2cuam9pbignICcpO1xuICBwLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDAgNXB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmRkO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZWU7XG4gICAgY29sb3I6ICNmMDA7XG4gICAgYDtcblxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbi50ZXh0Q29udGVudCA9IHN0YWNrO1xuICBzcGFuLnN0eWxlLmNzc1RleHQgPSAnZmxvYXQ6cmlnaHQ7IGNvbG9yOiM1NTUnO1xuICBwLmluc2VydEJlZm9yZShzcGFuLCBwLmZpcnN0Q2hpbGQpXG4gIFxuICB2aWV3KCBwIClcbn1cblxuY29uc29sZSA9IE9iamVjdC5hc3NpZ24oe30sIGNvbnNvbGUsIHt3YXJuLCBlcnJvciwgbG9nLCBpbmZvfSlcblxudmFyIGxpbmVFbmQgPSBkZXRlY3RNeUxpbmUoKVxuXG59XG5cbi8vaW5pdCh7aGFzaDogJ2NvbnNvbGU9dHJ1ZScsIGluc2lkZTogdHJ1ZX0pXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vfi92aXJ0dWFsLWNvbnNvbGUvbG9nTW9iaWxlLmpzXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9")}});